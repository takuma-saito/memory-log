FTP サーバー 設定・入門
============================

vsftpd インストール
----------------------------
パッケージ管理ソフトからftpサーバーのvsftpdをインストール

    sudo yum -y install vsftpd

vsftp.conf の設定
----------------------------
vsftpd.confの各ディレクティブの解説。
推奨値は内部向けFTPサーバーとして利用する場合の設定。
またパッシブモードでの設定は必ず行うこと。
この設定をしないとユーザーが利用するFTPクライアントでログインできないことがある。
またパッシブモードで利用するポートを空けておくことも忘れず行うこと。

FTPサーバーが利用するポートは21番, 20番。
20は制御用に、21はデータ転送用にそれぞれ利用する。

PASVモードの場合、データ転送ポートをサーバーが任意に設定できる。

* `anonymous_enable = [NO | YES]`: 
  推奨: NO
  匿名ユーザーのログインを許可するか。
  FTPサーバーを外部に公開する場合はYES。内部で利用する場合は必ずNOにすること。
  
* `local_enable = [NO | YES]`:
  推奨: YES
  ローカルユーザーのログインを許可するかどうか。
  デフォルトではローカルユーザーがログインできないので、YESに設定する。

* `dirmessage_enable = [NO | YES]`:
  推奨: YES
  ディレクトリメッセージの設定。
  ログインした時にディレクトリメッセージが表示されるかどうかを決める。
  YESの場合はユーザーのHOMEに.messageファイルを置くとログイン時にそのメッセージが表示される。
  
* `ascii_upload_enable = [NO | YES]`:
  推奨: YES
  デフォルトではアスキーモードでのダウンロード・アップロードが出来ない。
  必ずコメントアウトを外すこと。
  
* `chroot_local_user = [NO | YES]`:
  推奨: YES
  ローカルユーザーはchrootされホームディレクトリ以下しかアクセスできない。
  NOの場合はホームディレクトリより上位層のディレクトリも閲覧できてしまう。
  
* `chroot_list_enable = [NO | YES]`:
  推奨: YES
  YES の場合、chroot_local_user の設定をユーザーごとに行える。
  chroot_local_user が YES の場合、chroot_list にユーザーを追加することで、
  そのユーザーのみ全ディレクトリにアクセスすることができるようになる。

* `use_localtime = [NO | YES]`:
  推奨: YES
  時刻表示はデフォルトでGMT。
  日本を対象にする場合、localtimeを有効にすることで正しい時刻が表示される
  
* `Listen = [NO | YES]`:
  推奨: Yes
  YESの場合スタンドアロンモードで起動させる。

* `pasv_enable = [NO | YES]`:
  推奨: YES
  パッシブモードを有効にさせる。

* `pasv_min_port/pasv_max_port = <number>`:
  パッシブモードで利用するポート番号の範囲を指定する。
  iptablesで使用するポートを開けることを忘れず行う。

* `pasv_addr = [IP Adress | Host Name]`:
  pasv_modeを利用するホスト名・IPアドレスを利用する。
  ホスト名を指定した場合、pasv_addr_resolve がYESになっていれば、
  DDNSホストもパッシブモードに対応できる。
